Return-Path: <linux-xfs-owner@vger.kernel.org>
X-Original-To: lists+linux-xfs@lfdr.de
Delivered-To: lists+linux-xfs@lfdr.de
Received: from out1.vger.email (out1.vger.email [IPv6:2620:137:e000::1:20])
	by mail.lfdr.de (Postfix) with ESMTP id EB989720502
	for <lists+linux-xfs@lfdr.de>; Fri,  2 Jun 2023 16:58:29 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S236189AbjFBO60 (ORCPT <rfc822;lists+linux-xfs@lfdr.de>);
        Fri, 2 Jun 2023 10:58:26 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:52624 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S235249AbjFBO6Z (ORCPT
        <rfc822;linux-xfs@vger.kernel.org>); Fri, 2 Jun 2023 10:58:25 -0400
Received: from dfw.source.kernel.org (dfw.source.kernel.org [139.178.84.217])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id DBE73E7
        for <linux-xfs@vger.kernel.org>; Fri,  2 Jun 2023 07:58:24 -0700 (PDT)
Received: from smtp.kernel.org (relay.kernel.org [52.25.139.140])
        (using TLSv1.2 with cipher ECDHE-RSA-AES256-GCM-SHA384 (256/256 bits))
        (No client certificate requested)
        by dfw.source.kernel.org (Postfix) with ESMTPS id 7871364F95
        for <linux-xfs@vger.kernel.org>; Fri,  2 Jun 2023 14:58:24 +0000 (UTC)
Received: by smtp.kernel.org (Postfix) with ESMTPSA id CFDB0C433A7;
        Fri,  2 Jun 2023 14:58:23 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
        s=k20201202; t=1685717903;
        bh=JNuJE5Hg4g4BstXR5ZIYMdr4ykyUjP5EJGmAptrtpjY=;
        h=Date:From:To:Cc:Subject:References:In-Reply-To:From;
        b=O9AqMKYkeKl4sODsI6HlgdXvImJ/1tLcEKcDeIBEHmHROql6utZwdC5Wk540sxZFb
         o6cqzVGLKArGNaKHbQ3v30/TQh9pHwfEF9AmgstxSepJUEaeXn2c+ph8Ng5iFLVdJa
         1OuwXkIL+2FvTBY1R1+CACuBNfCeAYMJ9SCIwo/Iwz8EkF2+w7D5kA0XO+4YPU2MMv
         7XhYN8QE5v4trelCpaqC/LImK+HwL0maFmG1P056bsXHJEU1KG3uN3OKEDsROSkD9j
         pexqPqzq/YUX5yg+7zhqgLMmewW8LATw1m8JKfF1uJGq6PSPvch9Wvz/Z8Oaa8PW3d
         l47gySIAUusWg==
Date:   Fri, 2 Jun 2023 07:58:23 -0700
From:   "Darrick J. Wong" <djwong@kernel.org>
To:     Chandan Babu R <chandan.babu@oracle.com>
Cc:     cem@kernel.org, linux-xfs@vger.kernel.org
Subject: Re: [PATCH 15/24] xfs_metadump.8: Add description for the newly
 introduced -v option
Message-ID: <20230602145823.GM16865@frogsfrogsfrogs>
References: <20230523090050.373545-1-chandan.babu@oracle.com>
 <20230523090050.373545-16-chandan.babu@oracle.com>
 <20230523174053.GU11620@frogsfrogsfrogs>
 <878rdbjx0m.fsf@debian-BULLSEYE-live-builder-AMD64>
MIME-Version: 1.0
Content-Type: text/plain; charset=utf-8
Content-Disposition: inline
Content-Transfer-Encoding: 8bit
In-Reply-To: <878rdbjx0m.fsf@debian-BULLSEYE-live-builder-AMD64>
X-Spam-Status: No, score=-7.3 required=5.0 tests=BAYES_00,DKIMWL_WL_HIGH,
        DKIM_SIGNED,DKIM_VALID,DKIM_VALID_AU,DKIM_VALID_EF,RCVD_IN_DNSWL_HI,
        SPF_HELO_NONE,SPF_PASS,T_SCC_BODY_TEXT_LINE autolearn=ham
        autolearn_force=no version=3.4.6
X-Spam-Checker-Version: SpamAssassin 3.4.6 (2021-04-09) on
        lindbergh.monkeyblade.net
Precedence: bulk
List-ID: <linux-xfs.vger.kernel.org>
X-Mailing-List: linux-xfs@vger.kernel.org

On Thu, May 25, 2023 at 03:34:47PM +0530, Chandan Babu R wrote:
> On Tue, May 23, 2023 at 10:40:53 AM -0700, Darrick J. Wong wrote:
> > On Tue, May 23, 2023 at 02:30:41PM +0530, Chandan Babu R wrote:
> >> Signed-off-by: Chandan Babu R <chandan.babu@oracle.com>
> >
> > This should be in the previous patch.
> >
> 
> Ok.
> 
> >> ---
> >>  man/man8/xfs_metadump.8 | 10 ++++++++++
> >>  1 file changed, 10 insertions(+)
> >> 
> >> diff --git a/man/man8/xfs_metadump.8 b/man/man8/xfs_metadump.8
> >> index c0e79d779..23695c768 100644
> >> --- a/man/man8/xfs_metadump.8
> >> +++ b/man/man8/xfs_metadump.8
> >> @@ -11,6 +11,9 @@ xfs_metadump \- copy XFS filesystem metadata to a file
> >>  ] [
> >>  .B \-l
> >>  .I logdev
> >> +] [
> >> +.B \-v
> >> +.I version
> >>  ]
> >>  .I source
> >>  .I target
> >> @@ -74,6 +77,9 @@ metadata such as filenames is not considered sensitive.  If obfuscation
> >>  is required on a metadump with a dirty log, please inform the recipient
> >>  of the metadump image about this situation.
> >>  .PP
> >> +The contents of an external log device can be dumped only when using the v2
> >> +format. Metadump in v2 format can be generated by passing the "-v 2" option.
> >
> > Please start each sentence on a separate line.
> 
> Does it need to be formatted as shown below?
> 
> The contents of an external log device can be dumped only when using the v2
> format.
> Metadump in v2 format can be generated by passing the "-v 2" option.

Yes, this is correct enough for me.  From man-pages(7):

   Use semantic newlines
       In the source of a manual page, new sentences should be started
       on  new  lines,  long  sentences  should be split into lines at
       clause breaks (commas, semicolons, colons, and so on), and long
       clauses should be split at phrase boundaries.  This convention,
       sometimes known as "semantic newlines", makes it easier to  see
       the  effect of patches, which often operate at the level of in‐
       dividual sentences, clauses, or phrases.

Frankly I don't care to split at the *clause* level because I think
newlines should come after a complete thought.  Note that the source of
that paragraph looks like this:

	.SS Use semantic newlines
	In the source of a manual page,
	new sentences should be started on new lines,
	and long sentences should split into lines at clause breaks
	(commas, semicolons, colons, and so on).
	This convention, sometimes known as "semantic newlines",
	makes it easier to see the effect of patches,
	which often operate at the level of individual sentences or sentence clauses.

Which is (IMHO) harder to read when reviewing diffs.

Oddly it also misses the fact that “sometimes known as "semantic
newlines",” is a parenthetical clause and should be a separate line.

I'm also pretty sure that “...should be started on new lines, and long
sentences should...” is a compound sentence and doesn't need the comma.

This whole thing also assumes that writers have had as comprehensive an
education in English grammar as I have forgotten over the past 30 years.

So.

I'm only going to go as far as asking for newlines after each sentence
so that manpage diffs don't write-amplify into adjacent thoughts that
haven't actually changed.

> >
> > This also should mention that metadump will pick v2 if there's no
> > explicit -v option and the fs has an external log.
> 
> Ok. I will include that as part of the description.

Thank you!

--D

> -- 
> chandan
